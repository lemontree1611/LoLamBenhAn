<!DOCTYPE html>

<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>B·ªÜNH √ÅN G√ÇY M√ä H·ªíI S·ª®C</title>
<link href="../../source/style.css?v=1.0.3" rel="stylesheet"/>
<link href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmj7drT8_gPK2zwTd5CMdWRNdIQmHNP2T9Kg&amp;s" rel="icon" type="image/png"/>
<!-- Th∆∞ vi·ªán t·∫°o DOCX -->
<script src="../../source/libs/index.umd.js"></script>
<script src="../../source/libs/FileSaver.min.js"></script>
<style>
  /* Kh√°m ti·ªÅn m√™: PC chia 2 c·ªôt, mobile 1 c·ªôt */
  .preop-grid { display: flex; flex-direction: column; gap: 14px; }
  .preop-grid .preop-col { flex: 1 1 0; }

  @media (min-width: 992px) {
    .preop-grid { flex-direction: row; align-items: flex-start; }
  }
</style>

</head>
<body>
<!-- Top Glass Bar (Actions + Chat) -->
<div aria-label="Thanh c√¥ng c·ª•" class="topbar glass" id="topbar" role="navigation">
<a aria-label="Trang ch·ªß" class="tb-btn tb-home" href="../../">
<svg aria-hidden="true" height="20" viewbox="0 0 24 24" width="20">
<path d="M12 3.2 3 10.4v10.1c0 .8.7 1.5 1.5 1.5H9.5v-6.7c0-.4.3-.8.8-.8h3.4c.4 0 .8.3.8.8V22h5c.8 0 1.5-.7 1.5-1.5V10.4L12 3.2Z" fill="currentColor"></path>
<path d="M20.7 9.8 12 2.6 3.3 9.8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></path>
</svg>
</a>
<div aria-label="T√°c v·ª•" class="tb-actions"><button class="tb-btn" id="btn-share" title="Chia s·∫ª" type="button"><svg aria-hidden="true" width="20" height="20" viewBox="0 0 24 24">
  <!-- Apple-ish simple share icon -->
  <path d="M12 3v10" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.8"/>
  <path d="M8.5 6.5 12 3l3.5 3.5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"/>
  <path d="M7.5 10.5h9A3 3 0 0 1 19.5 13.5v5A3.5 3.5 0 0 1 16 22H8A3.5 3.5 0 0 1 4.5 18.5v-5A3 3 0 0 1 7.5 10.5Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.8"/>
</svg><span>Chia s·∫ª</span></button>
<button class="tb-btn" id="btn-export" title="Xu·∫•t file Word" type="button"><svg aria-hidden="true" height="20" viewbox="0 0 24 24" width="20">
<path d="M14 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.6"></path>
<path d="M14 3v5h5" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.6"></path>
<path d="M12 11v6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.6"></path>
<path d="M9.5 14.5 12 17l2.5-2.5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></path>
</svg>
<span>Xu·∫•t file</span></button>
<button class="tb-btn" id="btn-preview" title="Xem tr∆∞·ªõc" type="button"><svg aria-hidden="true" height="20" viewbox="0 0 24 24" width="20">
<path d="M2.5 12s3.5-7 9.5-7 9.5 7 9.5 7-3.5 7-9.5 7-9.5-7-9.5-7Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.6"></path>
<path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" fill="none" stroke="currentColor" stroke-width="1.6"></path>
</svg>
<span>Xem tr∆∞·ªõc</span></button>
<button class="tb-btn" id="btn-reset" title="Xo√° h·∫øt" type="button"><svg aria-hidden="true" height="20" viewbox="0 0 24 24" width="20">
<path d="M4 7h16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.6"></path>
<path d="M9 7V5.5A1.5 1.5 0 0 1 10.5 4h3A1.5 1.5 0 0 1 15 5.5V7" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.6"></path>
<path d="M7 7l1 14h8l1-14" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.6"></path>
<path d="M10 11v6M14 11v6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.6"></path>
</svg>
<span>Xo√° h·∫øt</span></button>
</div>
<button aria-controls="chat-panel" aria-expanded="false" class="tb-btn tb-chat" id="btn-chat" title="Chat" type="button"><img alt="" aria-hidden="true" class="tb-chat-img" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmj7drT8_gPK2zwTd5CMdWRNdIQmHNP2T9Kg&amp;s"/>
<span class="tb-chat-text">Let me cook bro</span></button>
</div>
<h1>Form B·ªÜNH √ÅN G√ÇY M√ä H·ªíI S·ª®C</h1>
<p class="small">Nh·∫≠p th√¥ng tin r·ªìi nh·∫•n <strong>XU·∫§T FILE WORD</strong> ƒë·ªÉ l∆∞u b·ªánh √°n ho√†n ch·ªânh v·ªÅ m√°y.</p><div id="share-notice" style="display:none"></div>
<!-- ‚úÖ ƒê·ªíNG B·ªò: main.js resetForm() ƒëang reset theo #benhanForm -->
<form id="benhanForm" onsubmit="return false;">
<div class="section">
  <h2>I. H√ÄNH CH√çNH</h2>
  <div class="row">
    <div class="col">
      <label>1. H·ªç v√† t√™n</label>
      <input id="hoten" placeholder="Nguy·ªÖn VƒÉn A" type="text"/>
    </div>
    <div class="col">
      <label>2. NƒÉm sinh</label>
      <input id="namsinh" max="2100" min="1900" placeholder="1980" type="number"/>
      <div class="small">Tu·ªïi: <span id="tuoi">-</span></div>
    </div>
  </div>

  <label>3. Ch·∫©n ƒëo√°n</label>
  <input id="chandoan" type="text"/>

  <label>4. Ph∆∞∆°ng ph√°p ph·∫´u thu·∫≠t</label>
  <input id="pp_phauthuat" type="text"/>

  <div class="row">
    <div class="col">
      <label>5. Ng√†y ph·∫´u thu·∫≠t</label>
      <input id="ngay_phauthuat" type="date"/>
    </div>
    <div class="col">
      <label>6. Ph∆∞∆°ng ph√°p v√¥ c·∫£m</label>
      <input id="pp_vocam" type="text"/>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label>7. Th·ªùi gian ph·∫´u thu·∫≠t</label>
      <input id="tg_phauthuat" placeholder="VD: 90 ph√∫t" type="text"/>
    </div>
    <div class="col">
      <label>8. Th·ªùi gian g√¢y m√™</label>
      <input id="tg_gayme" placeholder="VD: 120 ph√∫t" type="text"/>
    </div>
  </div>
</div>

<div class="section">
  <h2>II. TI·ªÄN S·ª¨</h2>
  <textarea id="tiensu">1) B·∫£n th√¢n:
  - N·ªôi khoa: Kh√¥ng THA, ƒêTƒê2, hen, COPD, r·ªëi lo·∫°n ƒë√¥ng m√°u, b·ªánh t·ª± mi·ªÖn
  - Ngo·∫°i khoa: Ch∆∞a t·ª´ng ph·∫´u thu·∫≠t
  - G√¢y t√™, g√¢y m√™: Kh√¥ng ghi nh·∫≠n b·∫•t th∆∞·ªùng
  - Th√≥i quen: Kh√¥ng thu·ªëc l√° r∆∞·ª£u bia
  - Kh√¥ng ti·ªÅn s·ª≠ d·ªã ·ª©ng thu·ªëc, th·ª©c ƒÉn
2) Gia ƒë√¨nh: Kh√¥ng ghi nh·∫≠n b·ªánh l√Ω li√™n quan</textarea>
</div>

<div class="section">
  <h2>III. B·ªÜNH S·ª¨</h2>
  <textarea id="benhsu" placeholder="Nh·∫≠p b·ªánh s·ª≠..."></textarea>
</div>

<div class="section">
  <h2>IV. DI·ªÑN TI·∫æN TR∆Ø·ªöC PH·∫™U THU·∫¨T</h2>

  <div class="row" style="justify-content:flex-end;">
    <button class="tb-btn" id="btn-add-dientien" type="button" title="Th√™m h√†ng">Ôºã Th√™m h√†ng</button>
  </div>

  <table class="table" style="width:100%; margin-top:10px;">
    <thead>
      <tr>
        <th style="width:18%;">Th·ªùi gian</th>
        <th>Di·ªÖn ti·∫øn</th>
        <th>X·ª≠ tr√≠</th>
        <th style="width:64px;"></th>
      </tr>
    </thead>
    <tbody id="dientienTableBody"></tbody>
  </table>

  <!-- Hidden JSON ƒë·ªÉ ƒë·ªìng b·ªô/share + export -->
  <textarea id="dientien_json" style="display:none;"></textarea>
</div>

<div class="section">
  <h2>V. C·∫¨N L√ÇM S√ÄNG</h2>

  <h3 style="margin-top:0;">1. Huy·∫øt h·ªçc</h3>
  <div class="row" style="justify-content:flex-end;">
    <button class="tb-btn" id="btn-add-hem" type="button" title="Th√™m h√†ng">Ôºã Th√™m h√†ng</button>
  </div>

  <table class="table" style="width:100%; margin-top:10px;">
    <thead>
      <tr>
        <th style="width:40%;">Ch·ªâ s·ªë</th>
        <th>K·∫øt qu·∫£</th>
        <th style="width:64px;"></th>
      </tr>
    </thead>
    <tbody id="hemTableBody"></tbody>
  </table>

  <h3>2. Sinh h√≥a m√°u</h3>
  <div class="row" style="justify-content:flex-end;">
    <button class="tb-btn" id="btn-add-bio" type="button" title="Th√™m h√†ng">Ôºã Th√™m h√†ng</button>
  </div>

  <table class="table" style="width:100%; margin-top:10px;">
    <thead>
      <tr>
        <th style="width:40%;">Ch·ªâ s·ªë</th>
        <th>K·∫øt qu·∫£</th>
        <th style="width:64px;"></th>
      </tr>
    </thead>
    <tbody id="bioTableBody"></tbody>
  </table>

  <div style="margin-top:12px;">
    <label>3. ECG</label>
    <textarea id="ecg" placeholder="Nh·∫≠p ECG..."></textarea>

    <label>4. Xquang ng·ª±c th·∫≥ng</label>
    <textarea id="xquang" placeholder="Nh·∫≠p k·∫øt qu·∫£ Xquang ng·ª±c..."></textarea>

    <label>C√°c c·∫≠n l√¢m s√†ng kh√°c</label>
    <textarea id="canlamsang_khac" placeholder="Nh·∫≠p c√°c c·∫≠n l√¢m s√†ng kh√°c..."></textarea>
  </div>

  <!-- Hidden JSON ƒë·ªÉ ƒë·ªìng b·ªô/share + export -->
  <textarea id="hem_json" style="display:none;"></textarea>
  <textarea id="bio_json" style="display:none;"></textarea>
</div>

<div class="section">
  <h2>VI. KH√ÅM L√ÇM S√ÄNG</h2>

  <label>Sinh hi·ªáu:</label>
  <div>
    M·∫°ch <input id="mach" style="width: 70px" type="number"/> l·∫ßn/ph√∫t,
    nhi·ªát ƒë·ªô <input id="nhietdo" step="0.1" style="width:70px" type="number"/> ¬∞C
  </div>
  <div>
    Huy·∫øt √°p <input id="ha_tren" style="width:70px" type="number"/>/<input id="ha_duoi" style="width:70px" type="number"/> mmHg,
    nh·ªãp th·ªü <input id="nhiptho" style="width:70px" type="number"/> l·∫ßn/ph√∫t
  </div>
  <div>
    Chi·ªÅu cao: <input id="chieucao" style="width:70px" type="number"/> cm,
    c√¢n n·∫∑ng: <input id="cannang" style="width:70px" type="number"/> kg,
    BMI = <span id="bmi">-</span> kg/m¬≤
    => Ph√¢n lo·∫°i <span id="phanloai">-</span> theo WHO Asia
  </div>

  <div style="margin-top:10px;">
    <label>Kh√°m ti·ªÅn m√™</label>

    <div class="preop-grid">
      <div class="preop-col">
        <div class="small" style="margin-bottom:6px;"><strong>- ƒê√°nh gi√° ASA:</strong></div>
        <div class="row" style="gap:10px;flex-wrap:wrap;">
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_I" value="Lo·∫°i I"> Lo·∫°i I (S·ª©c kh·ªèe b√¨nh th∆∞·ªùng)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_II" value="Lo·∫°i II"> Lo·∫°i II (B·ªánh to√†n th√¢n nh·∫π)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_III" value="Lo·∫°i III"> Lo·∫°i III (B·ªánh to√†n th√¢n n·∫∑ng, kh√¥ng ƒëe d·ªça t√≠nh m·∫°ng)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_IV" value="Lo·∫°i IV"> Lo·∫°i IV (B·ªánh to√†n th√¢n n·∫∑ng, ƒëe d·ªça t√≠nh m·∫°ng)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_V" value="Lo·∫°i V"> Lo·∫°i V (Nguy k·ªãch, kh√¥ng ph·∫´u thu·∫≠t s·∫Ω t·ª≠ vong trong 24h)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="asa" id="asa_VI" value="Lo·∫°i VI"> Lo·∫°i VI (Ch·∫øt n√£o, hi·∫øn t·∫°ng)</label>
        </div>
      </div>

      <div class="preop-col">
        <div class="small" style="margin-bottom:6px;"><strong>- Mallampati:</strong></div>
        <div class="row" style="gap:10px;flex-wrap:wrap;">
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="mallampati" id="mall_I" value="ƒê·ªô I"> ƒê·ªô I (quan s√°t ƒë∆∞·ª£c to√†n b·ªô kh·∫©u c√°i m·ªÅm, h·ªçng, l∆∞·ª°i g√†, v√† tr·ª• tr∆∞·ªõc sau)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="mallampati" id="mall_II" value="ƒê·ªô II"> ƒê·ªô II (quan s√°t ƒë∆∞·ª£c ho√†n to√†n kh·∫©u c√°i m·ªÅm, h·ªçng v√† l∆∞·ª°i g√†)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="mallampati" id="mall_III" value="ƒê·ªô III"> ƒê·ªô III (quan s√°t ƒë∆∞·ª£c kh·∫©u c√°i m·ªÅm v√† n·ªÅn c·ªßa l∆∞·ª°i g√†)</label>
          <label style="display:flex;align-items:center;gap:6px;"><input type="radio" name="mallampati" id="mall_IV" value="ƒê·ªô IV"> ƒê·ªô IV (kh√¥ng quan s√°t ƒë∆∞·ª£c h·∫øt kh·∫©u c√°i m·ªÅm)</label>
        </div>
      </div>
    </div>

    <label style="margin-top:10px;">N·ªôi dung kh√°m</label>
    <textarea id="kham_tienme" placeholder="Nh·∫≠p n·ªôi dung kh√°m ti·ªÅn m√™..."></textarea>
  </div>
</div>

<div class="section">
  <h2>VII. NGUY C∆†</h2>
  <textarea id="nguyco" placeholder="Nh·∫≠p nguy c∆°..."></textarea>
</div>

<div class="section">
  <h2>VIII. V·∫§N ƒê·ªÄ C·∫¶N L∆ØU √ù</h2>
  <textarea id="vande_luuy" placeholder="Nh·∫≠p v·∫•n ƒë·ªÅ c·∫ßn l∆∞u √Ω..."></textarea>
</div>

<div class="section">
  <h2>IX. T√åNH TR·∫†NG NG∆Ø·ªúI B·ªÜNH L√öC NH·∫¨N T·∫†I PH√íNG M·ªî</h2>
  <textarea id="tinhtrang_phongmo" placeholder="Nh·∫≠p t√¨nh tr·∫°ng ng∆∞·ªùi b·ªánh..."></textarea>
</div>

<div class="section">
  <h2>X. CHU·∫®N B·ªä K·∫æ HO·∫†CH TR∆Ø·ªöC G√ÇY M√ä</h2>
  <textarea id="kehoach_truocgayme" placeholder="Nh·∫≠p k·∫ø ho·∫°ch tr∆∞·ªõc g√¢y m√™..."></textarea>
</div>

<div class="section">
  <h2>XI. T∆Ø·ªúNG TR√åNH PH·∫™U THU·∫¨T</h2>
  <textarea id="tuongtrinh_phauthuat" placeholder="Nh·∫≠p t∆∞·ªùng tr√¨nh ph·∫´u thu·∫≠t..."></textarea>
</div>

<div class="section">
  <h2>XII. H·ªíI S·ª®C</h2>
  <textarea id="hoisuc" placeholder="Nh·∫≠p h·ªìi s·ª©c..."></textarea>
</div>
</form>
<!-- Khung chat (tr∆∞·ª£t t·ª´ thanh bar) -->
<div id="chat-panel">
<div class="chat-header">üí¨ Bi·ªán lu·∫≠n c√πng bot L√≤
    <span id="chat-close">√ó</span>
</div>
<div class="chat-messages" id="chat-messages"></div>
<div class="chat-input">
<input id="chat-text" placeholder="Nh·∫≠p tin nh·∫Øn..." type="text">
<button id="chat-send">G·ª≠i</button>
</input></div>
</div>
<!-- Preview popup -->
<!-- ‚úÖ ƒê·ªíNG B·ªò: main.js d√πng previewModal + previewFrame + class "show" ƒë·ªÉ b·∫≠t/t·∫Øt -->
<div aria-hidden="true" class="modal-backdrop" id="previewModal">
<div aria-label="Xem tr∆∞·ªõc" aria-modal="true" class="modal-shell" role="dialog">
<div class="modal-header">
<div class="title">Xem tr∆∞·ªõc (khu√¥n A4)</div>
<button class="modal-close" onclick="closePreview()" type="button">ƒê√≥ng ‚úï</button>
</div>
<div class="modal-body">
<iframe id="previewFrame" style="
          width:100%;
          height:85vh;
          border:0;
          background:#fff;
          border-radius:12px;
        ">
</iframe>
</div>
</div>
</div>
<div id="loadingOverlay">
<div class="spinner"></div>
<p>ƒêang t·∫°o file DOCX...</p>
</div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="main.js?v=1.0.3"></script>
</body>
</html>
